"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8989],{98989:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var l=a(65043),n=a(97334),r=a(94496),c=a(97368),o=a(42788),s=a(94814),i=a(99784),u=a(1273),m=a(92064),f=a(72882),v=a(95629),E=a(91775);function d(){return l.createElement("div",null,l.createElement(n.A,{size:20,style:{marginRight:20}}),l.createElement(r.A,{display:"inline"},"Creating SVG"))}function h(e,t){return(0,E.useLocalStorage)("svg-"+e,t)}function g(e){let{model:t,handleClose:a}=e;const n=(0,E.getSession)(t),g="undefined"!==typeof OffscreenCanvas,[b,y]=(0,l.useState)(g),[A,p]=(0,l.useState)(!1),[k,C]=(0,l.useState)(),[S,w]=h("file","jbrowse.svg"),[z,T]=h("tracklabels","offset"),[L,N]=h("theme",n.themeName||"default");return l.createElement(v.Dialog,{open:!0,onClose:a,title:"Export SVG"},l.createElement(c.A,null,k?l.createElement(v.ErrorMessage,{error:k}):A?l.createElement(d,null):null,l.createElement(o.A,{helperText:"filename",value:S,onChange:e=>w(e.target.value)}),l.createElement("br",null),l.createElement(o.A,{select:!0,label:"Track label positioning",variant:"outlined",style:{width:150},value:z,onChange:e=>T(e.target.value)},l.createElement(s.A,{value:"offset"},"Offset"),l.createElement(s.A,{value:"overlay"},"Overlay"),l.createElement(s.A,{value:"left"},"Left"),l.createElement(s.A,{value:"none"},"None")),l.createElement("br",null),n.allThemes?l.createElement(o.A,{select:!0,label:"Theme",variant:"outlined",value:L,onChange:e=>N(e.target.value)},Object.entries(n.allThemes()).map((e=>{let[t,a]=e;return l.createElement(s.A,{key:t,value:t},a.name||"(Unknown name)")}))):null,g?l.createElement(i.A,{control:l.createElement(u.A,{checked:b,onChange:()=>y((e=>!e))}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):l.createElement(r.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),l.createElement(m.A,null,l.createElement(f.A,{variant:"contained",color:"secondary",onClick:()=>a()},"Cancel"),l.createElement(f.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{p(!0),C(void 0);try{await t.exportSvg({rasterizeLayers:b,filename:S,trackLabels:z,themeName:L}),a()}catch(e){console.error(e),C(e),p(!1)}}},"Submit")))}}}]);
//# sourceMappingURL=8989.9113ba1b.chunk.js.map