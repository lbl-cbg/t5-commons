{"version":3,"file":"static/js/8262.b418c4c4.chunk.js","mappings":"ySAOA,SAASA,EAAaC,GAAkC,IAAjC,QAAEC,EAAO,OAAEC,EAAM,UAAEC,GAAYH,EAClD,OAAQI,EAAAA,cAAoBA,EAAAA,SAAgB,KACxCA,EAAAA,cAAoBC,EAAAA,EAAY,KAAM,kQACtCJ,EAAQK,KAAIC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAMH,EAAAA,cAAoBK,EAAAA,EAAW,CAAEC,IAAK,UAAFC,OAAYH,GAASI,YAAa,UAAFD,OAAYH,GAASK,MAAOX,EAAOM,IAAU,GAAIM,SAAUC,GAASZ,EAAU,IAAKD,EAAQ,CAACM,GAAQO,EAAMC,OAAOH,SAAW,IACpO,CACe,SAASI,EAAeC,GACnC,IAAIC,EACJ,MAAM,QAAEC,EAAO,aAAEC,EAAe,CAAC,GAAMH,GACjC,IAAEI,EAAG,WAAEC,IAAeC,EAAAA,EAAAA,iBACrBtB,EAAQC,IAAasB,EAAAA,EAAAA,UAAS,CAAC,GAChCC,EAAWN,EAAQM,SAAW,CAAC,EAC/BC,EAAkBC,OAAOC,QAAQH,GACvC,IAAII,EACAC,EAAO,GACX,MAAMC,EAAUJ,OAAOK,KAAK/B,GAI5B,IACI6B,EAAOJ,EACFrB,KAAI4B,IACE,IACAN,OAAOO,YAAYP,OAAOC,QAAQK,EAAI,IAAI5B,KAAI8B,GAAK,CAACA,EAAE,GAAI,GAAFzB,OAAKyB,EAAE,QAClEC,OAAQH,EAAI,GACZI,GAAIJ,EAAI,OAGXhC,QAAOgC,IAAOF,EAAQO,QACrBP,EAAQQ,OAAM9B,IACZ,MAAM+B,EAAavC,EAAOQ,GAC1B,OAAO+B,GACDP,EAAIxB,GAAKgC,MAAM,IAAIC,OAAOF,EAAY,KAClC,KAGtB,CACA,MAAOL,GACHN,EAAQM,CACZ,CACA,MAAMH,EAAO,CAAC,YAAaL,OAAOK,MAAoC,QAA7Bd,EAAKQ,EAAgB,UAAuB,IAAPR,OAAgB,EAASA,EAAG,KAAO,CAAC,KAC3GyB,EAASC,IAAcpB,EAAAA,EAAAA,WAAS,IAChCqB,EAAQC,IAAatB,EAAAA,EAAAA,UAASQ,EAAK3B,KAAI8B,IAAKY,EAAAA,EAAAA,kBAAiBjB,EAAKzB,KAAI2C,GAAKA,EAAEb,SAC9EnC,EAAUgC,EAAK3B,KAAI,CAACE,EAAO0C,KAC7B,IAAI/B,EAAIgC,EACR,MAAQ,CACJ3C,QACA4C,YAA8J,QAAhJD,EAAgG,QAA1FhC,EAAsB,OAAjBE,QAA0C,IAAjBA,OAA0B,EAASA,EAAagC,cAA2B,IAAPlC,OAAgB,EAASA,EAAGX,UAA2B,IAAP2C,OAAgB,EAASA,EAAGG,YAClMC,MAAOT,EAAOI,GACjB,IAIL,OAAQvB,EAAgBY,OAAiBnC,EAAAA,cAAoBoD,EAAAA,SAAU,IAAKtC,EAAOuC,MAAO,WACtF3B,EAAQ1B,EAAAA,cAAoBC,EAAAA,EAAY,CAAEqD,MAAO,SAAW,GAAF/C,OAAKmB,IAAW,KAC1E1B,EAAAA,cAAoBuD,EAAAA,EAAkB,CAAEC,QAASxD,EAAAA,cAAoByD,EAAAA,EAAU,CAAEjB,QAASA,EAAS9B,SAAUC,GAAS8B,EAAW9B,EAAMC,OAAO4B,WAAakB,MAAO1D,EAAAA,cAAoBC,EAAAA,EAAY,CAAE0D,QAAS,SAAW,kBACxNnB,EAAWxC,EAAAA,cAAoBL,EAAe,CAAEI,UAAWA,EAAWF,QAASA,EAASC,OAAQA,IAAa,KAC7GE,EAAAA,cAAoB,MAAO,CAAEkB,IAAKA,GAC9BlB,EAAAA,cAAoB4D,IAAW,CAAElB,OAAQA,EAAQC,UAAWA,EAAWxB,WAAYA,IACnFnB,EAAAA,cAAoB6D,EAAAA,GAAU,CAAElC,KAAMA,EAAMmC,WAAYnC,EAAKQ,OAAS,IAAKtC,QAASA,EAASkE,4BAA4B,EAAMC,UAAW,GAAIC,mBAAoB,GAAIC,mBAAmB,EAAMC,MAAO,CAAEC,QAAS5B,EAAU6B,EAAAA,EAAc,MAAQC,UAAW,CACpPF,QAAS,CAAEG,aAAc,CAAEC,sBAAsB,SAPhC,IASrC,C,eC/DA,MAAMC,GAAuBC,EAAAA,EAAAA,OAAK,IAAM,gCACxC,SAASC,EAAa/E,GAAyB,IAAxB,WAAEgF,EAAU,MAAEC,GAAQjF,EACzC,MAAMkF,GAAUC,EAAAA,EAAAA,YAAWF,GAC3B,OAAQ7E,EAAAA,cAAoB,MAAO,KAC/BA,EAAAA,cAAoBC,EAAAA,EAAY,KAAM,6CACtCD,EAAAA,cAAoB,KAAM,KAAM4E,EAAW1E,KAAI,CAAC8E,EAAWlC,IAAW9C,EAAAA,cAAoB,KAAM,CAAEM,IAAK,GAAFC,OAAKyE,EAAS,KAAAzE,OAAIuC,IACnH9C,EAAAA,cAAoBiF,EAAAA,EAAM,CAAEC,KAAM,IAAKC,QAASxE,IACxC,IAAII,EACJJ,EAAMyE,iBACN,MAAM,KAAEC,GAASR,EACjB,IACI,IAAIQ,EAIA,MAAM,IAAIC,MAAM,6DAHe,QAA9BvE,EAAKsE,EAAKE,sBAAmC,IAAPxE,GAAyBA,EAAGyE,KAAKH,EAAML,EAKtF,CACA,MAAOhD,GACHyD,QAAQ/D,MAAMM,GACd8C,EAAQY,OAAO,GAADnF,OAAIyB,GACtB,IACC,SAAFzB,OAAWyE,QAC9B,CACA,SAASW,EAA8BxF,GAA4C,IAA3C,WAAEyE,EAAU,MAAEC,EAAK,QAAE7D,EAAO,SAAE4E,GAAWzF,EAC7E,MAAM2E,GAAUC,EAAAA,EAAAA,YAAWF,GACrBgB,EAAgB,IAAIC,EAAAA,cAAc9E,GACxC,OAAQhB,EAAAA,cAAoB,MAAO,KAC/BA,EAAAA,cAAoBC,EAAAA,EAAY,KAAM,sDACtCD,EAAAA,cAAoB,KAAM,KAAM4E,EAAW1E,KAAI8E,GAAchF,EAAAA,cAAoB,KAAM,CAAEM,IAAK,GAAFC,OAAKwF,KAAKC,UAAUhB,KAC5GhF,EAAAA,cAAoBiF,EAAAA,EAAM,CAAEC,KAAM,IAAKC,QAASxE,IACxCA,EAAMyE,iBACNN,EAAQmB,aAAYC,GAAe,CAC/BzB,EACA,CAAEyB,cAAarB,QAAO7D,QAAS6E,EAAeD,cAChD,GACD,GAAFrF,OAAKS,EAAQmF,QAAO,KAAA5F,OAAIS,EAAQoF,MAAK,QAAA7F,OAAOyE,EAAS,sBACxE,CACe,SAASqB,EAAcvF,GAClC,MAAM,MAAE+D,EAAK,WAAED,EAAU,QAAE5D,GAAYF,EACjCgE,GAAUC,EAAAA,EAAAA,YAAWF,IACrB,cAAEyB,IAAkBC,EAAAA,EAAAA,QAAOzB,GACjC,IAAIc,EACJ,IACIA,EAAWU,EAAcE,YAAY,sBACzC,CACA,MAAOxE,GACH,CAEJ,OAAQhC,EAAAA,cAAoBoD,EAAAA,SAAU,IAAKtC,EAAOuC,MAAO,aACrDrD,EAAAA,cAAoB2E,EAAe,CAAEE,MAAOA,EAAOD,WAAYA,IAC/DgB,EAAY5F,EAAAA,cAAoB2F,EAAgC,CAAEC,SAAUA,EAAUf,MAAOA,EAAOD,WAAYA,EAAY5D,QAASA,IAAc,KAC3J,CCnDe,SAASyF,EAAiB7G,GAAqB,IAApB,KAAE+B,EAAI,QAAE9B,GAAUD,EACxD,MAAM,IAAEsB,EAAG,WAAEC,IAAeC,EAAAA,EAAAA,iBACrBoB,EAASC,IAAcpB,EAAAA,EAAAA,WAAS,IAChCqB,EAAQC,IAAatB,EAAAA,EAAAA,UAASxB,EAAQK,KAAI8B,IAAKY,EAAAA,EAAAA,kBAAiBjB,EAAKzB,KAAI2C,GAAKA,EAAEb,EAAE5B,aACzF,OAAOuB,EAAKQ,OAAUnC,EAAAA,cAAoB,MAAO,CAAEkB,IAAKA,GACpDlB,EAAAA,cAAoBuD,EAAAA,EAAkB,CAAEC,QAASxD,EAAAA,cAAoByD,EAAAA,EAAU,CAAEjB,QAASA,EAAS9B,SAAUC,GAAS8B,EAAW9B,EAAMC,OAAO4B,WAAakB,MAAO1D,EAAAA,cAAoBC,EAAAA,EAAY,CAAE0D,QAAS,SAAW,kBACxN3D,EAAAA,cAAoB,MAAO,CAAEkB,IAAKA,GAC9BlB,EAAAA,cAAoB4D,IAAW,CAAElB,OAAQA,EAAQC,UAAWA,EAAWxB,WAAYA,IACnFnB,EAAAA,cAAoB6D,EAAAA,GAAU,CAAEG,UAAW,GAAIrC,KAAMA,EAAM9B,QAASA,EAAQK,KAAI,CAACwG,EAAGC,KAAM,IAAMD,EAAGvD,MAAOT,EAAOiE,OAAQxC,MAAO,CAAEC,QAAS5B,EAAU6B,EAAAA,EAAc,UAAe,IAC9L,CCZe,SAASuC,EAAsBhH,GAA2B,IAA1B,KAAEiH,EAAI,OAAEC,EAAM,MAAEzD,GAAQzD,EACnE,OAAOiH,EAAK1E,OAAUnC,EAAAA,cAAoBoD,EAAAA,SAAU,CAAEC,MAAOA,GACzDrD,EAAAA,cAAoB+G,EAAW,CAAEpF,KAAMkF,EAAK3G,KAAI,CAAC8G,EAAK9E,KAAO,CACrDA,QACGV,OAAOO,YAAYiF,EAAIC,MAAM,KAAK/G,KAAI,CAAC8B,EAAG2E,IAAM,CAACG,EAAOH,GAAI3E,WAC5D,GAAInC,QAASiH,EAAO5G,KAAIwG,IAAK,CAAGtG,MAAOsG,SAAa,IACvE,CCTO,MAAMQ,EAA2B,CACpCC,MAAO,sDACPC,IAAK,wEACLC,GAAI,8EACJC,IAAK,4EACLC,IAAK,6EACLC,KAAM,oEACNC,OAAQ,oICGZ,SAASC,EAAQ9H,GAA6B,IAA5B,aAAEqB,EAAY,QAAED,GAAUpB,EACxC,IAAImB,EAAIgC,EAAI4E,EAAIC,EAChB,MAAMC,EAAsJ,QAA3I9E,EAA8F,QAAxFhC,EAAsB,OAAjBE,QAA0C,IAAjBA,OAA0B,EAASA,EAAa6G,YAAyB,IAAP/G,OAAgB,EAASA,EAAGgH,WAAwB,IAAPhF,OAAgB,EAASA,EAAGG,YAC1L8E,GAA4H,QAA9GL,EAAiB,OAAZE,QAAgC,IAAZA,OAAqB,EAASA,EAAQvF,MAAM,2CAAwD,IAAPqF,OAAgB,EAASA,EAAG,GAAGV,MAAM,OAAS,GAClLgB,GAA+B,QAAvBL,EAAK5G,EAAQ8G,YAAyB,IAAPF,OAAgB,EAASA,EAAGG,MAAQ,GACjF,OAAQ/H,EAAAA,cAAoB4G,EAAwB,CAAEE,OAAQkB,EAAWnB,KAAMoB,EAAK5E,MAAO,qBAC/F,CACA,SAAS6E,EAAQ/H,GAA6B,IAA5B,aAAEc,EAAY,QAAED,GAAUb,EACxC,IAAIY,EAAIgC,EAAI4E,EAAIC,EAChB,MAAMO,EAA6J,QAA3IpF,EAA8F,QAAxFhC,EAAsB,OAAjBE,QAA0C,IAAjBA,OAA0B,EAASA,EAAa6G,YAAyB,IAAP/G,OAAgB,EAASA,EAAGqH,WAAwB,IAAPrF,OAAgB,EAASA,EAAGG,YACjMmF,GAA+H,QAAjHV,EAAwB,OAAnBQ,QAA8C,IAAnBA,OAA4B,EAASA,EAAe7F,MAAM,yBAAsC,IAAPqF,OAAgB,EAASA,EAAG,GAAGV,MAAM,OAAS,GACrLqB,GAA+B,QAAvBV,EAAK5G,EAAQ8G,YAAyB,IAAPF,OAAgB,EAASA,EAAGQ,MAAQ,GACjF,OAAQpI,EAAAA,cAAoB4G,EAAwB,CAAEE,OAAQuB,EAAWxB,KAAMyB,EAAKjF,MAAO,qBAC/F,CACA,MAaA,GAb6BkF,EAAAA,EAAAA,WAAS,SAAUzH,GAC5C,MAAM,MAAE+D,GAAU/D,GACZ,YAAE0H,EAAW,aAAEvH,GAAiB4D,EAChC4D,EAAO1C,KAAK2C,MAAM3C,KAAKC,UAAUwC,KACjC,QAAElH,KAAYqH,GAASF,EAC7B,OAAQzI,EAAAA,cAAoB4I,EAAAA,EAAO,CAAE,cAAe,uBAChD5I,EAAAA,cAAoB6I,EAAAA,eAAgB,CAAE7H,QAAS2H,EAAM1H,aAAc,IAAKiG,KAA6BjG,MAAmBH,IACxHd,EAAAA,cAAoBkI,EAAU,CAAElH,QAAS2H,EAAM1H,aAAcA,IAC7DjB,EAAAA,cAAoB0H,EAAU,CAAE1G,QAAS2H,EAAM1H,aAAcA,IAC/C,aAAdwH,EAAKK,KAAuB9I,EAAAA,cAAoBqG,EAAe,CAAErF,QAASyH,EAAM7D,WAAY6D,EAAKlB,IAAIrH,KAAK6I,IAAU,IAAIhI,EAAI,OAAsC,QAA7BA,GAAKiI,EAAAA,EAAAA,GAAcD,UAAyB,IAAPhI,OAAgB,EAASA,EAAGkI,eAAiB,EAAE,IAAMpE,MAAOA,IAAY,KACpO,kBAAd4D,EAAKK,KAA4B9I,EAAAA,cAAoBqG,EAAe,CAAErF,QAASyH,EAAM5D,MAAOA,EAAOD,WAAY,CAAC,GAADrE,OAAIkI,EAAKX,KAAKoB,KAAK,GAAE,KAAA3I,OAAIkI,EAAKX,KAAKqB,QAAa,KAC/JnJ,EAAAA,cAAoBoJ,EAAmB,CAAEpI,QAASyH,KAAS3H,EAAOG,aAAcA,IACxF,G","sources":["../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/VariantSampleGrid.js","../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/BreakendPanel.js","../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/AnnotGrid.js","../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/VariantAnnotationTable.js","../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/variantFieldDescriptions.js","../node_modules/@jbrowse/plugin-variants/esm/VariantFeatureWidget/VariantFeatureWidget.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { FormControlLabel, Checkbox, TextField, Typography, } from '@mui/material';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail';\nimport { measureGridWidth } from '@jbrowse/core/util';\nimport ResizeBar from '@jbrowse/core/ui/ResizeBar';\nimport { useResizeBar } from '@jbrowse/core/ui/useResizeBar';\nfunction SampleFilters({ columns, filter, setFilter, }) {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Typography, null, \"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\\\d* will find any non-zero allele e.g. 0|2 or 2/33\"),\n        columns.map(({ field }) => (React.createElement(TextField, { key: `filter-${field}`, placeholder: `Filter ${field}`, value: filter[field] || '', onChange: event => setFilter({ ...filter, [field]: event.target.value }) })))));\n}\nexport default function VariantSamples(props) {\n    var _a;\n    const { feature, descriptions = {} } = props;\n    const { ref, scrollLeft } = useResizeBar();\n    const [filter, setFilter] = useState({});\n    const samples = (feature.samples || {});\n    const preFilteredRows = Object.entries(samples);\n    let error;\n    let rows = [];\n    const filters = Object.keys(filter);\n    // catch some error thrown from regex\n    // note: maps all values into a string, if this is not done rows are not\n    // sortable by the data-grid\n    try {\n        rows = preFilteredRows\n            .map(row => {\n            return {\n                ...Object.fromEntries(Object.entries(row[1]).map(e => [e[0], `${e[1]}`])),\n                sample: row[0],\n                id: row[0],\n            };\n        })\n            .filter(row => filters.length\n            ? filters.every(key => {\n                const currFilter = filter[key];\n                return currFilter\n                    ? row[key].match(new RegExp(currFilter, 'i'))\n                    : true;\n            })\n            : true);\n    }\n    catch (e) {\n        error = e;\n    }\n    const keys = ['sample', ...Object.keys(((_a = preFilteredRows[0]) === null || _a === void 0 ? void 0 : _a[1]) || {})];\n    const [checked, setChecked] = useState(false);\n    const [widths, setWidths] = useState(keys.map(e => measureGridWidth(rows.map(r => r[e]))));\n    const columns = keys.map((field, index) => {\n        var _a, _b;\n        return ({\n            field,\n            description: (_b = (_a = descriptions === null || descriptions === void 0 ? void 0 : descriptions.FORMAT) === null || _a === void 0 ? void 0 : _a[field]) === null || _b === void 0 ? void 0 : _b.Description,\n            width: widths[index],\n        });\n    });\n    // disableRowSelectionOnClick helps avoid\n    // https://github.com/mui-org/material-ui-x/issues/1197\n    return !preFilteredRows.length ? null : (React.createElement(BaseCard, { ...props, title: \"Samples\" },\n        error ? React.createElement(Typography, { color: \"error\" }, `${error}`) : null,\n        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { checked: checked, onChange: event => setChecked(event.target.checked) }), label: React.createElement(Typography, { variant: \"body2\" }, \"Show options\") }),\n        checked ? (React.createElement(SampleFilters, { setFilter: setFilter, columns: columns, filter: filter })) : null,\n        React.createElement(\"div\", { ref: ref },\n            React.createElement(ResizeBar, { widths: widths, setWidths: setWidths, scrollLeft: scrollLeft }),\n            React.createElement(DataGrid, { rows: rows, hideFooter: rows.length < 100, columns: columns, disableRowSelectionOnClick: true, rowHeight: 25, columnHeaderHeight: 35, disableColumnMenu: true, slots: { toolbar: checked ? GridToolbar : null }, slotProps: {\n                    toolbar: { printOptions: { disableToolbarButton: true } },\n                } }))));\n}\n","import React, { lazy } from 'react';\nimport { Link, Typography } from '@mui/material';\nimport { getEnv, getSession, SimpleFeature, } from '@jbrowse/core/util';\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail';\n// lazies\nconst BreakendOptionDialog = lazy(() => import('./BreakendOptionDialog'));\nfunction LocStringList({ locStrings, model, }) {\n    const session = getSession(model);\n    return (React.createElement(\"div\", null,\n        React.createElement(Typography, null, \"Link to linear view of breakend endpoints\"),\n        React.createElement(\"ul\", null, locStrings.map((locString, index) => (React.createElement(\"li\", { key: `${locString}-${index}` },\n            React.createElement(Link, { href: \"#\", onClick: event => {\n                    var _a;\n                    event.preventDefault();\n                    const { view } = model;\n                    try {\n                        if (view) {\n                            (_a = view.navToLocString) === null || _a === void 0 ? void 0 : _a.call(view, locString);\n                        }\n                        else {\n                            throw new Error('No view associated with this feature detail panel anymore');\n                        }\n                    }\n                    catch (e) {\n                        console.error(e);\n                        session.notify(`${e}`);\n                    }\n                } }, `LGV - ${locString}`)))))));\n}\nfunction LaunchBreakpointSplitViewPanel({ locStrings, model, feature, viewType, }) {\n    const session = getSession(model);\n    const simpleFeature = new SimpleFeature(feature);\n    return (React.createElement(\"div\", null,\n        React.createElement(Typography, null, \"Launch split views with breakend source and target\"),\n        React.createElement(\"ul\", null, locStrings.map(locString => (React.createElement(\"li\", { key: `${JSON.stringify(locString)}` },\n            React.createElement(Link, { href: \"#\", onClick: event => {\n                    event.preventDefault();\n                    session.queueDialog(handleClose => [\n                        BreakendOptionDialog,\n                        { handleClose, model, feature: simpleFeature, viewType },\n                    ]);\n                } }, `${feature.refName}:${feature.start} // ${locString} (split view)`)))))));\n}\nexport default function BreakendPanel(props) {\n    const { model, locStrings, feature } = props;\n    const session = getSession(model);\n    const { pluginManager } = getEnv(session);\n    let viewType;\n    try {\n        viewType = pluginManager.getViewType('BreakpointSplitView');\n    }\n    catch (e) {\n        // ignore\n    }\n    return (React.createElement(BaseCard, { ...props, title: \"Breakends\" },\n        React.createElement(LocStringList, { model: model, locStrings: locStrings }),\n        viewType ? (React.createElement(LaunchBreakpointSplitViewPanel, { viewType: viewType, model: model, locStrings: locStrings, feature: feature })) : null));\n}\n","import React, { useState } from 'react';\nimport { DataGrid, GridToolbar, } from '@mui/x-data-grid';\nimport { Checkbox, FormControlLabel, Typography } from '@mui/material';\nimport ResizeBar from '@jbrowse/core/ui/ResizeBar';\nimport { measureGridWidth } from '@jbrowse/core/util';\nimport { useResizeBar } from '@jbrowse/core/ui/useResizeBar';\nexport default function VariantAnnotPanel({ rows, columns, }) {\n    const { ref, scrollLeft } = useResizeBar();\n    const [checked, setChecked] = useState(false);\n    const [widths, setWidths] = useState(columns.map(e => measureGridWidth(rows.map(r => r[e.field]))));\n    return rows.length ? (React.createElement(\"div\", { ref: ref },\n        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { checked: checked, onChange: event => setChecked(event.target.checked) }), label: React.createElement(Typography, { variant: \"body2\" }, \"Show options\") }),\n        React.createElement(\"div\", { ref: ref },\n            React.createElement(ResizeBar, { widths: widths, setWidths: setWidths, scrollLeft: scrollLeft }),\n            React.createElement(DataGrid, { rowHeight: 25, rows: rows, columns: columns.map((c, i) => ({ ...c, width: widths[i] })), slots: { toolbar: checked ? GridToolbar : null } })))) : null;\n}\n","import React from 'react';\nimport { BaseCard } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail';\nimport AnnotGrid from './AnnotGrid';\nexport default function VariantAnnotationTable({ data, fields, title, }) {\n    return data.length ? (React.createElement(BaseCard, { title: title },\n        React.createElement(AnnotGrid, { rows: data.map((elt, id) => ({\n                id,\n                ...Object.fromEntries(elt.split('|').map((e, i) => [fields[i], e])),\n            })) || [], columns: fields.map(c => ({ field: c })) }))) : null;\n}\n","export const variantFieldDescriptions = {\n    CHROM: 'chromosome: An identifier from the reference genome',\n    POS: 'position: The reference position, with the 1st base having position 1',\n    ID: 'identifier: Semi-colon separated list of unique identifiers where available',\n    REF: 'reference base(s): Each base must be one of A,C,G,T,N (case insensitive).',\n    ALT: 'alternate base(s): Comma-separated list of alternate non-reference alleles',\n    QUAL: 'quality: Phred-scaled quality score for the assertion made in ALT',\n    FILTER: 'filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail',\n};\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { Paper } from '@mui/material';\nimport { FeatureDetails } from '@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail';\nimport { parseBreakend } from '@gmod/vcf';\n// locals\nimport VariantSampleGrid from './VariantSampleGrid';\nimport BreakendPanel from './BreakendPanel';\nimport VariantAnnotationTable from './VariantAnnotationTable';\nimport { variantFieldDescriptions } from './variantFieldDescriptions';\nfunction AnnPanel({ descriptions, feature, }) {\n    var _a, _b, _c, _d;\n    const annDesc = (_b = (_a = descriptions === null || descriptions === void 0 ? void 0 : descriptions.INFO) === null || _a === void 0 ? void 0 : _a.ANN) === null || _b === void 0 ? void 0 : _b.Description;\n    const annFields = ((_c = annDesc === null || annDesc === void 0 ? void 0 : annDesc.match(/.*Functional annotations:'(.*)'$/)) === null || _c === void 0 ? void 0 : _c[1].split('|')) || [];\n    const ann = ((_d = feature.INFO) === null || _d === void 0 ? void 0 : _d.ANN) || [];\n    return (React.createElement(VariantAnnotationTable, { fields: annFields, data: ann, title: \"Variant ANN field\" }));\n}\nfunction CsqPanel({ descriptions, feature, }) {\n    var _a, _b, _c, _d;\n    const csqDescription = (_b = (_a = descriptions === null || descriptions === void 0 ? void 0 : descriptions.INFO) === null || _a === void 0 ? void 0 : _a.CSQ) === null || _b === void 0 ? void 0 : _b.Description;\n    const csqFields = ((_c = csqDescription === null || csqDescription === void 0 ? void 0 : csqDescription.match(/.*Format: (.*)/)) === null || _c === void 0 ? void 0 : _c[1].split('|')) || [];\n    const csq = ((_d = feature.INFO) === null || _d === void 0 ? void 0 : _d.CSQ) || [];\n    return (React.createElement(VariantAnnotationTable, { fields: csqFields, data: csq, title: \"Variant CSQ field\" }));\n}\nconst VariantFeatureWidget = observer(function (props) {\n    const { model } = props;\n    const { featureData, descriptions } = model;\n    const feat = JSON.parse(JSON.stringify(featureData));\n    const { samples, ...rest } = feat;\n    return (React.createElement(Paper, { \"data-testid\": \"variant-side-drawer\" },\n        React.createElement(FeatureDetails, { feature: rest, descriptions: { ...variantFieldDescriptions, ...descriptions }, ...props }),\n        React.createElement(CsqPanel, { feature: rest, descriptions: descriptions }),\n        React.createElement(AnnPanel, { feature: rest, descriptions: descriptions }),\n        feat.type === 'breakend' ? (React.createElement(BreakendPanel, { feature: feat, locStrings: feat.ALT.map((alt) => { var _a; return ((_a = parseBreakend(alt)) === null || _a === void 0 ? void 0 : _a.MatePosition) || ''; }), model: model })) : null,\n        feat.type === 'translocation' ? (React.createElement(BreakendPanel, { feature: feat, model: model, locStrings: [`${feat.INFO.CHR2[0]}:${feat.INFO.END}`] })) : null,\n        React.createElement(VariantSampleGrid, { feature: feat, ...props, descriptions: descriptions })));\n});\nexport default VariantFeatureWidget;\n"],"names":["SampleFilters","_ref","columns","filter","setFilter","React","Typography","map","_ref2","field","TextField","key","concat","placeholder","value","onChange","event","target","VariantSamples","props","_a","feature","descriptions","ref","scrollLeft","useResizeBar","useState","samples","preFilteredRows","Object","entries","error","rows","filters","keys","row","fromEntries","e","sample","id","length","every","currFilter","match","RegExp","checked","setChecked","widths","setWidths","measureGridWidth","r","index","_b","description","FORMAT","Description","width","BaseCard","title","color","FormControlLabel","control","Checkbox","label","variant","ResizeBar","DataGrid","hideFooter","disableRowSelectionOnClick","rowHeight","columnHeaderHeight","disableColumnMenu","slots","toolbar","GridToolbar","slotProps","printOptions","disableToolbarButton","BreakendOptionDialog","lazy","LocStringList","locStrings","model","session","getSession","locString","Link","href","onClick","preventDefault","view","Error","navToLocString","call","console","notify","LaunchBreakpointSplitViewPanel","viewType","simpleFeature","SimpleFeature","JSON","stringify","queueDialog","handleClose","refName","start","BreakendPanel","pluginManager","getEnv","getViewType","VariantAnnotPanel","c","i","VariantAnnotationTable","data","fields","AnnotGrid","elt","split","variantFieldDescriptions","CHROM","POS","ID","REF","ALT","QUAL","FILTER","AnnPanel","_c","_d","annDesc","INFO","ANN","annFields","ann","CsqPanel","csqDescription","CSQ","csqFields","csq","observer","featureData","feat","parse","rest","Paper","FeatureDetails","type","alt","parseBreakend","MatePosition","CHR2","END","VariantSampleGrid"],"sourceRoot":""}