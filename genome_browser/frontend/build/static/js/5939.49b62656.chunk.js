"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5939],{25939:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(48591),r=n(10718),s=n(91775),c=n(97151),o=n(1301);const i=class extends a.BaseFeatureDataAdapter{async configure(){var e;const t=await(null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw new Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,r.ObservableCreate)((async n=>{var a;const r=await this.configure();let{start:i,end:d}=e;if(i=Math.max(0,i-1e3),d+=1e3,d<0||i>d)return void n.complete();const f=r.getFeatures({...e,start:i,end:d},t),h=(null===(a=(await(0,o._)(f.pipe((0,c.$)())))[0])||void 0===a?void 0:a.get("seq"))||"",u=this.getConf("search"),l=this.getConf("searchForward"),g=this.getConf("searchReverse"),m=this.getConf("caseInsensitive"),p=new RegExp(u,"g"+(m?"i":""));if(u){if(l){const t=h.matchAll(p);for(const a of t){const t=i+(a.index||0);(0,s.doesIntersect2)(t,t+u.length,e.start,e.end)&&n.next(new s.SimpleFeature({uniqueId:"".concat(this.id,"-match-").concat(t,"-p"),refName:e.refName,start:t,end:t+a[0].length,name:a[0],strand:1}))}}if(g){const t=(0,s.revcom)(h).matchAll(p);for(const a of t){const t=d-(a.index||0);(0,s.doesIntersect2)(t,t+u.length,e.start,e.end)&&n.next(new s.SimpleFeature({uniqueId:"".concat(this.id,"-match-").concat(t,"-n"),refName:e.refName,start:t-a[0].length,name:a[0],end:t,strand:-1}))}}}n.complete()}))}freeResources(){}}}}]);
//# sourceMappingURL=5939.49b62656.chunk.js.map