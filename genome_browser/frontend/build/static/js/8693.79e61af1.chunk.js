"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8693],{8693:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(65043),r=n(96233),o=n(99784),s=n(1273),i=n(97368),l=n(92064),c=n(72882),d=n(70276),f=n(91775),p=n(95629);var m=n(31913);const h=(0,d.makeStyles)()({block:{display:"block"}});function k(e){return e.map((e=>{let{id:t,displays:n,...a}=e;return{...a,displays:n.map((e=>{let{id:t,...n}=e;return n}))}}))}function w(e){let{checked:t,label:n,onChange:r}=e;const{classes:i}=h();return a.createElement(o.A,{className:i.block,control:a.createElement(s.A,{checked:t,onChange:r}),label:n})}const u=(0,r.observer)((function(e){let{model:t,handleClose:n,f1:r,f2:o}=e;const[s,d]=(0,a.useState)(!0),[h,u]=(0,a.useState)(!0);return a.createElement(p.Dialog,{open:!0,onClose:n,title:"Breakpoint split view options"},a.createElement(i.A,null,a.createElement(w,{checked:s,onChange:e=>d(e.target.checked),label:"Copy tracks into the new view"}),a.createElement(w,{checked:h,onChange:e=>u(e.target.checked),label:"Mirror tracks vertically in vertically stacked view"})),a.createElement(l.A,null,a.createElement(c.A,{onClick:()=>{const{view:e}=t,a=(0,f.getSession)(t);try{const t=function(e){let{f1:t,f2:n,view:a}=e;const{assemblyName:r}=a.displayedRegions[0],{assemblyManager:o}=(0,f.getSession)(a),s=o.get(r);if(!s)throw new Error("assembly ".concat(r," not found"));if(!s.regions)throw new Error("assembly ".concat(r," regions not loaded"));const i=s.regions.find((e=>e.refName===t.refName)),l=s.regions.find((e=>e.refName===n.refName));if(!i||!l)throw new Error("unable to find the refName for the top or bottom of the breakpoint view");const c=[{...i},{...i}],d=[{...l},{...l}],p=1===t.strand?t.end:t.start,m=1===n.strand?n.start:n.end;return c[0].end=p,c[1].start=p+1,d[0].end=m,d[1].start=m+1,{type:"BreakpointSplitView",views:[{type:"LinearGenomeView",displayedRegions:c,hideHeader:!0,bpPerPx:10,offsetPx:(i.start+p)/10},{type:"LinearGenomeView",displayedRegions:d,hideHeader:!0,bpPerPx:10,offsetPx:(l.start+m)/10}],displayName:"breakend split detail"}}({view:e,f1:r,f2:o}),[n,s]=t.views,i=(0,m.getSnapshot)(e.tracks);a.addView("BreakpointSplitView",{...t,views:[{...n,tracks:k(i),offsetPx:n.offsetPx-e.width/2+100},{...s,tracks:k(h?[...i].reverse():i),offsetPx:s.offsetPx-e.width/2+100}]})}catch(s){console.error(s),a.notify("".concat(s))}n()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.createElement(c.A,{onClick:()=>n(),color:"secondary",variant:"contained"},"Cancel")))}))}}]);
//# sourceMappingURL=8693.79e61af1.chunk.js.map