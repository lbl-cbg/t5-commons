"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4861],{27616:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(65043),n=a(96233),l=a(91775),i=a(78791),o=a(26240);const s=(0,a(70276).makeStyles)()({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function c(e,t,a,r){e.flipped&&([a,r]=[r,a]);const n=e.bpToXY(a,t),l=e.bpToXY(r,t);return["M",...n,"A",t,t,"0",Math.abs(r-a)/e.bpPerRadian>Math.PI?"1":"0","1",...l].join(" ")}const m=(0,n.observer)((function(e){let{model:t,slice:a,region:n}=e;const i=(0,o.A)(),{radiusPx:s}=t,c=s+1,{endRadians:m,startRadians:g}=a,h=(0,l.polarToCartesian)(c,g),u=(0,l.polarToCartesian)(c,m),f=(m-g)*c,p=m-g>Math.PI?"1":"0",x=(m+g)/2,w="[".concat(Number(n.regions.length).toLocaleString(),"]");return r.createElement(r.Fragment,null,r.createElement(d,{text:w,view:t,maxWidthPx:f,radians:x,radiusPx:c,title:"".concat(w," more regions"),color:i.palette.text.primary}),r.createElement("path",{d:["M",...h,"A",c,c,"0",p,"1",...u].join(" "),stroke:i.palette.text.secondary,strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),d=(0,n.observer)((function(e){let{view:t,text:a,maxWidthPx:n,radians:i,radiusPx:o,title:c,color:m}=e;const{classes:d}=s(),g=(0,l.polarToCartesian)(o+5,i);if(!a)return null;if(6.5*a.length<n)return r.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:"translate(".concat(g,") rotate(").concat((0,l.radToDeg)(i)+90,")"),style:{fill:m}},a,r.createElement("title",null,c||a));if(n>4){return(0,l.radToDeg)(i+t.offsetRadians-Math.PI/2)>=180?r.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:"translate(".concat(g,") rotate(").concat((0,l.radToDeg)(i),")"),style:{fill:m}},a,r.createElement("title",null,c||a)):r.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:"translate(".concat(g,") rotate(").concat((0,l.radToDeg)(i)+180,")"),style:{fill:m}},a,r.createElement("title",null,c||a))}return null})),g=(0,n.observer)((function(e){let{model:t,slice:a,region:n}=e;const s=(0,o.A)(),{radiusPx:m}=t,{endRadians:g,startRadians:h}=a,u=(g+h)/2,f=(g-h)*m;let p;const x=(0,l.getSession)(t).assemblyManager.get(n.assemblyName);if(x&&(p=x.getRefNameColor(n.refName)),p)try{p=(0,i.makeContrasting)(p,s.palette.background.paper)}catch(w){p=s.palette.text.primary}else p=s.palette.text.primary;return r.createElement(r.Fragment,null,r.createElement(d,{text:n.refName,view:t,maxWidthPx:f,radians:u,radiusPx:m,color:p}),r.createElement("path",{d:c(a,m+1,n.start,n.end),stroke:p,strokeWidth:2,fill:"none"}))})),h=(0,n.observer)((function(e){let{model:t,slice:a}=e;return a.region.elided?r.createElement(m,{key:(0,l.assembleLocString)(a.region.regions[0]),model:t,region:a.region,slice:a}):r.createElement(g,{key:(0,l.assembleLocString)(a.region),region:a.region,model:t,slice:a})}))},94861:(e,t,a)=>{a.d(t,{renderToSvg:()=>g});var r=a(65043),n=a(45490),l=a(64812),i=a(91775),o=a(95629),s=a(31913),c=a(26240);function m(e){let{width:t,height:a,shift:n}=e;const l=(0,c.A)();return r.createElement("rect",{width:t+2*n,height:a,fill:(0,i.stripAlpha)(l.palette.background.default)})}var d=a(27616);async function g(e,t){var a;await(0,l.when)((()=>e.initialized));const{themeName:c="default",Wrapper:g=(e=>{let{children:t}=e;return r.createElement(r.Fragment,null,t)})}=t,h=(0,i.getSession)(e),u=null===(a=h.allThemes)||void 0===a?void 0:a.call(h)[c],{createRootFn:f}=(0,s.getRoot)(e),{width:p,tracks:x,height:w}=e,y=await Promise.all(x.map((async e=>{const a=e.displays[0];return await(0,l.when)((()=>void 0===a.ready||a.ready)),{track:e,result:await a.renderSvg({...t,theme:u})}}))),{staticSlices:E,offsetRadians:b,centerXY:k}=e,v=(0,i.radToDeg)(b);return(0,i.renderToStaticMarkup)(r.createElement(n.A,{theme:(0,o.createJBrowseTheme)(u)},r.createElement(g,null,r.createElement("svg",{width:p,height:w,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,p+100,w].toString()},r.createElement(m,{width:p,height:w,shift:50}),r.createElement("g",{transform:"translate(".concat(k,") rotate(").concat(v,")")},E.map(((t,a)=>r.createElement(d.A,{key:a,model:e,slice:t}))),y.map(((e,t)=>{let{result:a}=e;return r.createElement(r.Fragment,{key:t},a)})))))),f)}}}]);
//# sourceMappingURL=4861.c016247b.chunk.js.map