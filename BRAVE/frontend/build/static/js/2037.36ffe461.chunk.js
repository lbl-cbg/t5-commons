"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2037],{42037:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(48591),n=a(1301),r=a(10718),o=a(91775),c=a(97151);class i extends s.BaseFeatureDataAdapter{constructor(){super(...arguments),this.gcMode="content"}async configure(){var e;const t=await(null===(e=this.getSubAdapter)||void 0===e?void 0:e.call(this,this.getConf("sequenceAdapter")));if(!t)throw new Error("Error getting subadapter");return t.dataAdapter}async getRefNames(){return(await this.configure()).getRefNames()}getFeatures(e,t){return(0,r.ObservableCreate)((async a=>{var s;const r=await this.configure(),i=this.getConf("windowSize"),d=this.getConf("windowDelta"),u=1===i?1:i/2,l=1===i;let{start:f,end:g}=e;if(f=Math.max(0,f-u),g+=u,g<0||f>g)return void a.complete();const h=r.getFeatures({...e,start:f,end:g},t),p=(null===(s=(await(0,n._)(h.pipe((0,c.$)())))[0])||void 0===s?void 0:s.get("seq"))||"";for(let e=u;e<p.length-u;e+=d){const t=l?p[e]:p.slice(e-u,e+u);let s=0,n=0,r=0;for(const e of t)"c"===e||"C"===e?s++:"g"!==e&&"G"!==e||n++,"N"!==e&&r++;const c=f;let i;"content"===this.gcMode?i=(n+s)/(r||1):"skew"===this.gcMode&&(i=(n-s)/(n+s||1)),a.next(new o.SimpleFeature({uniqueId:"".concat(this.id,"_").concat(c+e),start:c+e,end:c+e+d,score:i}))}a.complete()}))}freeResources(){}}i.capabilities=["hasLocalStats"];const d=i}}]);
//# sourceMappingURL=2037.36ffe461.chunk.js.map