"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6128],{90800:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(65043),r=n(96233),l=n(91775),a=n(98779),i=n(64340),s=n(70059);function c(e,t){var n,o,r,l;const a=t?(0,s.h)(t):void 0;let i=e.get("start"),c=e.get("end");const d=e.get("strand"),u=e.get("mate"),m=e.get("refName");let v,g=0,f=0,k=0,E=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some((e=>null===t||void 0===t?void 0:t.startsWith(e)))){const t=e.get("INFO"),a=null!==(o=null===(n=null===t||void 0===t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==o?o:c;v=null!==(l=null===(r=null===t||void 0===t?void 0:t.CHR2)||void 0===r?void 0:r[0])&&void 0!==l?l:m,g=a,f=a-1,c=i+1}else if(null===a||void 0===a?void 0:a.MatePosition){const e=a.MatePosition.split(":");E="left"===a.MateDirection?1:-1,k="left"===a.Join?-1:1,g=+e[1],f=+e[1]-1,v=e[0]}return{k1:{refName:m,start:i,end:c,strand:d,mateDirection:E},k2:null!==u&&void 0!==u?u:{refName:v,end:g,start:f,mateDirection:k}}}function d(e,t){var n;const{k1:o,k2:r}=c(e,t);return[e.get("name"),e.get("id"),(0,l.assembleLocString)(o),(0,l.assembleLocString)(r),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter((e=>!!e)).join(" - ")}const u=(0,r.observer)((function(e){let{model:t,feature:n,alt:r,assembly:l,view:s}=e;var u,m;const[v,g]=(0,o.useState)(!1),{height:f}=t,{k1:k,k2:E}=c(n,r),b=(0,o.useRef)(null),h=(0,a.getConf)(t,"color",{feature:n,alt:r}),p=l.getCanonicalRefName(k.refName)||k.refName,x=l.getCanonicalRefName(E.refName)||E.refName,N=k.start,C=E.start,y=null===(u=s.bpToPx({refName:p,coord:N}))||void 0===u?void 0:u.offsetPx,M=null===(m=s.bpToPx({refName:x,coord:C}))||void 0===m?void 0:m.offsetPx;if(void 0!==y&&void 0!==M){const e=(M-y)/2,l=Math.abs(e),a=Math.min(f,l),c=y-s.offsetPx,u=M-s.offsetPx,m=v?"black":h,p=3;return l>1?o.createElement(o.Fragment,null,o.createElement("path",{d:"M ".concat(c," 0 C ").concat(c," ").concat(a,", ").concat(u," ").concat(a,", ").concat(u," 0"),ref:b,stroke:m,strokeWidth:p,onMouseOut:()=>g(!1),onMouseOver:()=>g(!0),onClick:()=>t.selectFeature(n),fill:"none",pointerEvents:"stroke"}),void 0!==k.mateDirection?o.createElement("line",{stroke:m,strokeWidth:p,onMouseOut:()=>g(!1),onMouseOver:()=>g(!0),onClick:()=>t.selectFeature(n),x1:c,x2:c+20*k.mateDirection,y1:1.5,y2:1.5}):null,void 0!==E.mateDirection?o.createElement("line",{stroke:m,strokeWidth:p,onMouseOut:()=>g(!1),onMouseOver:()=>g(!0),onClick:()=>t.selectFeature(n),x1:u,x2:u+20*E.mateDirection,y1:1.5,y2:1.5}):null,v?o.createElement(i.A,{contents:d(n,r)}):null):null}return null})),m=(0,r.observer)((function(e){let{model:t,exportSVG:n,children:r}=e;const{height:a}=t,i=(0,l.getContainingView)(t),s=Math.round(i.dynamicBlocks.totalWidthPx);return n?o.createElement(o.Fragment,null,r):o.createElement("svg",{width:s,height:a},r)})),v=(0,r.observer)((function(e){let{model:t,exportSVG:n}=e;const r=(0,l.getContainingView)(t),a=(0,l.getSession)(t),{assemblyManager:i}=a,{features:s}=t,c=i.get(r.assemblyNames[0]);return c?o.createElement(m,{model:t,exportSVG:n},null===s||void 0===s?void 0:s.map((e=>{var n;const l=e.get("ALT");return null!==(n=null===l||void 0===l?void 0:l.map((n=>o.createElement(u,{key:e.id()+"-"+n,session:a,feature:e,alt:n,view:r,model:t,assembly:c}))))&&void 0!==n?n:o.createElement(u,{key:e.id(),session:a,feature:e,view:r,model:t,assembly:c})}))):null}))},96128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(65043),r=n(96233),l=n(69392),a=n(71716),i=n(95629),s=n(45439),c=n(70276),d=n(48625),u=n(49990),m=n(91775);const v=(0,o.lazy)((()=>Promise.resolve().then(n.t.bind(n,52325,23)))),g=(0,c.makeStyles)()((e=>({loading:{backgroundColor:e.palette.background.default,backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, ".concat(e.palette.action.disabledBackground," 5px, ").concat(e.palette.action.disabledBackground," 10px)"),position:"absolute",bottom:0,height:50,width:300,right:0,pointerEvents:"none",textAlign:"center"}}))),f=(0,r.observer)((function(e){let{model:t,children:n}=e;const{error:r,regionTooLarge:i}=t;return r?o.createElement(s.LW,{message:"".concat(r),severity:"error",action:o.createElement(o.Fragment,null,o.createElement(l.A,{title:"Reload"},o.createElement(a.A,{"data-testid":"reload_button",onClick:()=>t.reload()},o.createElement(d.A,null))),o.createElement(l.A,{title:"Show stack trace"},o.createElement(a.A,{onClick:()=>{(0,m.getSession)(t).queueDialog((e=>[v,{onClose:e,error:t.error}]))}},o.createElement(u.A,null))))}):i?t.regionCannotBeRendered():o.createElement(k,{model:t},n)})),k=(0,r.observer)((function(e){let{model:t,children:n}=e;const{loading:r}=t;return o.createElement("div",null,n,r?o.createElement(E,{model:t}):null)})),E=(0,r.observer)((function(e){let{model:t}=e;const{classes:n}=g(),{message:r}=t;return o.createElement("div",{className:n.loading},o.createElement(i.LoadingEllipses,{message:r}))})),b=f;var h=n(90800);const p=(0,r.observer)((function(e){let{model:t,exportSVG:n}=e;return o.createElement(b,{model:t},o.createElement(h.A,{model:t,exportSVG:n}))}))}}]);
//# sourceMappingURL=6128.51cfea24.chunk.js.map