"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[732,3784],{53784:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c,makeFeatures:()=>o});var a=s(48591),r=s(91855),n=s(10718),u=s(98779);function o(e){const t=new Map;for(const s of e)if(s){const e=new r.default(s),a=e.get("refName");let n=t.get(a);n||(n=[],t.set(a,n)),n.push(e)}for(const s of t.values())s.sort(((e,t)=>e.get("start")-t.get("start")));return t}class c extends a.BaseFeatureDataAdapter{constructor(e,t,s){super(e,t,s);const a=(0,u.readConfObject)(e,"features");this.features=o(a||[])}async getRefNames(){return[...this.features.keys()]}async getRefNameAliases(){return[...this.features.values()].map((e=>({refName:e[0].get("refName"),aliases:e[0].get("aliases")})))}getFeatures(e){const{refName:t,start:s,end:a}=e;return(0,n.ObservableCreate)((async e=>{const r=this.features.get(t)||[];for(const t of r)t.get("end")>s&&t.get("start")<a&&e.next(t);e.complete()}))}freeResources(){}}},20732:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(91855),r=s(10718),n=s(97151),u=s(53784),o=s(1301);class c extends u.default{getFeatures(e){return(0,r.ObservableCreate)((async t=>{const s=(await(0,o._)(super.getFeatures(e).pipe((0,n.$)())))[0];t.next(new a.default({...s.toJSON(),uniqueId:"".concat(s.id(),":").concat(e.start,"-").concat(e.end),end:e.end,start:e.start,seq:s.get("seq").slice(Math.max(e.start-s.get("start"),0),Math.max(e.end-s.get("start"),0))})),t.complete()}))}async getRegions(){const e=[];for(const[t,s]of this.features){let a;for(const r of s)a&&a.end>=r.get("start")&&a.start<=r.get("end")?a.end=r.get("end"):(a&&e.push(a),a={refName:t,start:r.get("start"),end:r.get("end")});a&&e.push(a)}return e}freeResources(){}}}}]);
//# sourceMappingURL=732.359e433f.chunk.js.map