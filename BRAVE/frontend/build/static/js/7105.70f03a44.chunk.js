"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7105],{97105:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var o=n(65043),a=n(46193),r=n.n(a),i=n(91775),s=n(19871),c=n(80224),l=n.n(c),f=n(75270),u=n.n(f),g=n(72882),d=n(70276),m=n(98779),C=n(49379),b=n(95629);function p(e){let{config:t}=e;const[n,a]=(0,o.useState)(),[r,s]=(0,o.useState)(),c=(0,i.getSession)(t),{rpcManager:l}=c;(0,o.useEffect)((()=>{(async()=>{try{const e=(0,m.readConfObject)(t,"adapter"),n=await l.call(t.trackId,"CoreGetInfo",{adapterConfig:e});s(n)}catch(e){console.error(e),a(e)}})()}),[t,l]);const f="string"===typeof r?{header:"<pre>".concat(r.replaceAll("<","&lt;").replaceAll(">","&gt;"),"</pre>")}:r||{};return null!==r?o.createElement(C.BaseCard,{title:"File info"},n?o.createElement(b.ErrorMessage,{error:n}):void 0===r?o.createElement(b.LoadingEllipses,{message:"Loading file data"}):o.createElement(C.Attributes,{attributes:f})):null}const E=(0,d.makeStyles)()({content:{minWidth:800}});function A(e,t){for(const n in e)n===t?delete e[n]:"object"===typeof e[n]&&A(e[n],t);return e}function h(e){let{config:t}=e;const[n,a]=(0,o.useState)(!1),r=(0,m.readConfObject)(t),s=(0,i.getSession)(t),{classes:c}=E(),f=(0,m.getConf)(s,["formatAbout","hideUris"])||(0,m.readConfObject)(t,["formatAbout","hideUris"]),{pluginManager:d}=(0,i.getEnv)(s),b=d.evaluateExtensionPoint("Core-customizeAbout",{config:{...r,...(0,m.getConf)(s,["formatAbout","config"],{config:r}),...(0,m.readConfObject)(t,["formatAbout","config"],{config:r})}},{session:s,config:t}),h=d.evaluateExtensionPoint("Core-extraAboutPanel",null,{session:s,config:t});return o.createElement("div",{className:c.content},o.createElement(C.BaseCard,{title:"Configuration"},f?null:o.createElement(g.A,{variant:"contained",style:{float:"right"},onClick:()=>{const e=A(l()(r),"baseUri");u()(JSON.stringify(e,null,2)),a(!0),setTimeout((()=>a(!1)),1e3)}},n?"Copied to clipboard!":"Copy config"),o.createElement(C.Attributes,{attributes:b,omit:["displays","baseUri","refNames","formatAbout"],hideUris:f})),h?o.createElement(C.BaseCard,{title:h.name},o.createElement(h.Component,{config:t})):null,o.createElement(p,{config:t}))}function v(e){let{config:t,handleClose:n}=e;const a=(0,i.getSession)(t),c=(0,s.getTrackName)(t,a),{pluginManager:l}=(0,i.getEnv)(a),f=l.evaluateExtensionPoint("Core-replaceAbout",h,{session:a,config:t});return o.createElement(r(),{open:!0,onClose:n,title:c,maxWidth:"xl"},o.createElement(f,{config:t}))}}}]);
//# sourceMappingURL=7105.70f03a44.chunk.js.map