"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8295],{8295:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var n=a(65043),l=a(96233),o=a(97368),s=a(92064),r=a(72882),c=a(95629),i=a(22505),m=a(60960),d=a(65204),u=a(91068),A=a(42492),p=a(68738),E=a(39652),y=a(21832),b=a(71716),f=a(98779),L=a(75824),v=a(63471);const g=(0,l.observer)((function(e){let{rootModel:t,setIsAssemblyBeingEdited:a,setAssemblyBeingEdited:l}=e;const{assemblies:o}=t.jbrowse;return n.createElement(m.A,{component:d.A},n.createElement(u.A,null,n.createElement(A.A,null,n.createElement(p.A,null,n.createElement(E.A,null,"Name"),n.createElement(E.A,null,"Display name"),n.createElement(E.A,null,"Aliases"),n.createElement(E.A,null,"Actions"))),n.createElement(y.A,null,o.map((e=>{const o=(0,f.readConfObject)(e,"name"),s=(0,f.readConfObject)(e,"displayName"),r=(0,f.readConfObject)(e,"aliases");return n.createElement(p.A,{key:o},n.createElement(E.A,null,o),n.createElement(E.A,null,s),n.createElement(E.A,null,r?r.toString():""),n.createElement(E.A,null,n.createElement(b.A,{"data-testid":"".concat(o,"-edit"),onClick:()=>{a(!0),l(e)}},n.createElement(L.A,{color:"primary"})),n.createElement(b.A,{"data-testid":"".concat(o,"-delete"),onClick:()=>function(e){t.jbrowse.removeAssemblyConf(e)}(o)},n.createElement(v.A,{color:"error"}))))})))))}));var S=a(42788),h=a(94814),C=a(8591);const B=(0,l.observer)((function(e){let{adapterSelection:t,setAdapterSelection:a,adapterTypes:l}=e;return n.createElement(S.A,{value:t,label:"Type",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:e=>a(e.target.value)},l.map((e=>n.createElement(h.A,{key:e,value:e},e))))})),w=(0,l.observer)((e=>{let{adapterSelection:t,fastaLocation:a,setFastaLocation:l,faiLocation:o,setFaiLocation:s,gziLocation:r,setGziLocation:i,twoBitLocation:m,setTwoBitLocation:d,chromSizesLocation:u,setChromSizesLocation:A}=e;return"IndexedFastaAdapter"===t||"BgzipFastaAdapter"===t?n.createElement(C.Ay,{container:!0,spacing:2},n.createElement(C.Ay,{item:!0},n.createElement(c.FileSelector,{name:"fastaLocation",location:a,setLocation:e=>l(e)})),n.createElement(C.Ay,{item:!0},n.createElement(c.FileSelector,{name:"faiLocation",location:o,setLocation:e=>s(e)})),"BgzipFastaAdapter"===t?n.createElement(C.Ay,{item:!0},n.createElement(c.FileSelector,{name:"gziLocation",location:r,setLocation:e=>i(e)})):null):"TwoBitAdapter"===t?n.createElement(C.Ay,{container:!0,spacing:2},n.createElement(C.Ay,{item:!0},n.createElement(c.FileSelector,{name:"twoBitLocation",location:m,setLocation:e=>d(e)})),n.createElement(C.Ay,{item:!0},n.createElement(c.FileSelector,{name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:u,setLocation:e=>A(e)}))):null})),z={uri:""},F=(0,l.observer)((function(e){let{rootModel:t,setFormOpen:a}=e;const l=["IndexedFastaAdapter","BgzipFastaAdapter","TwoBitAdapter"],[o,s]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[u,A]=(0,n.useState)(l[0]),[p,E]=(0,n.useState)(z),[y,b]=(0,n.useState)(z),[f,L]=(0,n.useState)(z),[v,g]=(0,n.useState)(z),[h,C]=(0,n.useState)(z);return n.createElement("div",null,n.createElement(d.A,null,n.createElement(S.A,{id:"assembly-name",inputProps:{"data-testid":"assembly-name"},label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:o,onChange:e=>s(e.target.value)}),n.createElement(S.A,{id:"assembly-name",inputProps:{"data-testid":"assembly-display-name"},label:"Assembly display name",helperText:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:c,onChange:e=>m(e.target.value)}),n.createElement(B,{adapterSelection:u,setAdapterSelection:A,adapterTypes:l}),n.createElement(w,{adapterSelection:u,fastaLocation:p,setFastaLocation:E,faiLocation:y,setFaiLocation:b,gziLocation:f,setGziLocation:L,twoBitLocation:v,setTwoBitLocation:g,chromSizesLocation:h,setChromSizesLocation:C})),n.createElement(r.A,{variant:"contained",color:"secondary",startIcon:n.createElement(i.A,null),onClick:function(){if(""===o)t.session.notify("Can't create an assembly without a name");else{let e;a(!1),"IndexedFastaAdapter"===u?e={name:o,displayName:c,sequence:{adapter:{type:"IndexedFastaAdapter",fastaLocation:p,faiLocation:y}}}:"BgzipFastaAdapter"===u?e={name:o,displayName:c,sequence:{adapter:{type:"BgzipFastaAdapter",fastaLocation:p,faiLocation:y,gziLocation:f}}}:"TwoBitAdapter"===u&&(e={name:o,displayName:c,sequence:{adapter:{type:"TwoBitAdapter",twoBitLocation:v,chromSizesLocation:h}}}),t.jbrowse.addAssemblyConf(e),t.session.notify("Successfully added ".concat(o," assembly to JBrowse 2"),"success")}}},"Create new assembly"))}));var k=a(28122);const T=(0,a(70276).makeStyles)()({container:{overflow:"auto",maxHeight:600}}),x=(0,l.observer)((function(e){let{assembly:t}=e;const{classes:a}=T();return n.createElement("div",{className:a.container},t?n.createElement(k.SS,{model:{target:t}}):n.createElement("div",null,"No assembly"))})),M=(0,l.observer)((function(e){let{rootModel:t,onClose:a}=e;const[l,m]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[A,p]=(0,n.useState)(),E=!l&&!d;return n.createElement(c.Dialog,{open:!0,onClose:()=>a(!1),title:"Assembly manager"},n.createElement(o.A,null,E?n.createElement(g,{rootModel:t,setIsAssemblyBeingEdited:u,setAssemblyBeingEdited:p}):null,d?n.createElement(x,{assembly:A}):null,l?n.createElement(F,{rootModel:t,setFormOpen:m}):null),n.createElement(s.A,null,l?n.createElement(r.A,{variant:"contained",onClick:()=>m(!1)},"Back"):null,d?n.createElement(r.A,{variant:"contained",onClick:()=>u(!1)},"Back"):null,E?n.createElement(n.Fragment,null,n.createElement(r.A,{color:"secondary",variant:"contained",onClick:()=>a(!1)},"Close"),n.createElement(r.A,{variant:"contained",startIcon:n.createElement(i.A,null),onClick:()=>m(!0)},"Add new assembly")):null))}))},75824:(e,t,a)=>{var n=a(24994);t.A=void 0;var l=n(a(40039)),o=a(70579);t.A=(0,l.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create")},63471:(e,t,a)=>{var n=a(24994);t.A=void 0;var l=n(a(40039)),o=a(70579);t.A=(0,l.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}}]);
//# sourceMappingURL=8295.dfe3914b.chunk.js.map