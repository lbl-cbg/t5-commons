"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8526],{8526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(65043),l=n(70276),r=n(96233),s=n(91775),o=n(19252),i=n(8591),c=n(78632),m=n(97334),u=n(72882),d=n(95629),g=n(74802),v=n(22205),y=n(76871),b=n(75013);const p=(0,r.observer)((function(e){let{model:t,selectedAsm:n,value:l,setValue:r,setOption:o}=e;const i=(0,s.getSession)(t),{assemblyManager:c,textSearchManager:m}=i,{rankSearchResults:u}=t,d=t.searchScope(n),g=c.get(n);return a.createElement(y.A,{fetchResults:e=>(0,b.Jf)({queryString:e,assembly:g,textSearchManager:m,rankSearchResults:u,searchScope:d}),model:t,assemblyName:n,value:l,minWidth:270,onChange:e=>r(e),onSelect:e=>o(e),TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location"}})})),E=(0,l.makeStyles)()((e=>({importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}}))),h=(0,r.observer)((function(e){let{model:t}=e;var n;const{classes:l}=E(),r=(0,s.getSession)(t),{assemblyNames:y,assemblyManager:b}=r,{error:h}=t,[S,f]=(0,a.useState)(y[0]),[A,k]=(0,a.useState)(),N=b.get(S),C=y.length?null===N||void 0===N?void 0:N.error:"No configured assemblies",w=C||h,[M,R]=(0,a.useState)(""),x=null===N||void 0===N?void 0:N.regions,F=!!x,O=x?null===(n=x[0])||void 0===n?void 0:n.refName:"";return(0,a.useEffect)((()=>{R(O)}),[O,S]),a.createElement("div",{className:l.container},w?a.createElement(d.ErrorMessage,{error:w}):null,a.createElement(o.A,{className:l.importFormContainer},a.createElement("form",{onSubmit:async e=>{var n;if(e.preventDefault(),t.setError(void 0),M)try{(null===A||void 0===A?void 0:A.getDisplayString())===M&&A.hasLocation()?await(0,v.Kd)({option:A,model:t,assemblyName:S}):(null===(n=null===A||void 0===A?void 0:A.results)||void 0===n?void 0:n.length)?t.setSearchResults(A.results,A.getLabel(),S):N&&await(0,v.cm)({input:M,assembly:N,model:t})}catch(a){console.error(a),r.notify("".concat(a),"warning")}}},a.createElement(i.Ay,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.createElement(i.Ay,{item:!0},a.createElement(c.A,null,a.createElement(d.AssemblySelector,{onChange:e=>f(e),localStorageKey:"lgv",session:r,selected:S}))),a.createElement(i.Ay,{item:!0},S?C?a.createElement(g.default,{style:{color:"red"}}):F?a.createElement(c.A,null,a.createElement(p,{value:M,setValue:R,selectedAsm:S,setOption:k,model:t})):a.createElement(m.A,{size:20,disableShrink:!0}):null),a.createElement(i.Ay,{item:!0},a.createElement(c.A,null,a.createElement(u.A,{type:"submit",disabled:!M,className:l.button,variant:"contained",color:"primary"},"Open")),a.createElement(c.A,null,a.createElement(u.A,{disabled:!M,className:l.button,onClick:()=>{t.setError(void 0),t.showAllRegionsInAssembly(S)},variant:"contained",color:"secondary"},"Show all regions in assembly")))))))}))}}]);
//# sourceMappingURL=8526.789987dd.chunk.js.map