"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3120],{90800:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(65043),l=n(96233),i=n(91775),r=n(98779),a=n(64340),s=n(70059);function c(e,t){var n,o,l,i;const r=t?(0,s.h)(t):void 0;let a=e.get("start"),c=e.get("end");const d=e.get("strand"),u=e.get("mate"),m=e.get("refName");let v,f=0,g=0,h=0,k=0;if(["<TRA","<DEL","<INV","<INS","<DUP","<CNV"].some((e=>null===t||void 0===t?void 0:t.startsWith(e)))){const t=e.get("INFO"),r=null!==(o=null===(n=null===t||void 0===t?void 0:t.END)||void 0===n?void 0:n[0])&&void 0!==o?o:c;v=null!==(i=null===(l=null===t||void 0===t?void 0:t.CHR2)||void 0===l?void 0:l[0])&&void 0!==i?i:m,f=r,g=r-1,c=a+1}else if(null===r||void 0===r?void 0:r.MatePosition){const e=r.MatePosition.split(":");k="left"===r.MateDirection?1:-1,h="left"===r.Join?-1:1,f=+e[1],g=+e[1]-1,v=e[0]}return{k1:{refName:m,start:a,end:c,strand:d,mateDirection:k},k2:null!==u&&void 0!==u?u:{refName:v,end:f,start:g,mateDirection:h}}}function d(e,t){var n;const{k1:o,k2:l}=c(e,t);return[e.get("name"),e.get("id"),(0,i.assembleLocString)(o),(0,i.assembleLocString)(l),null===(n=e.get("INFO"))||void 0===n?void 0:n.SVTYPE,t].filter((e=>!!e)).join(" - ")}const u=(0,l.observer)((function(e){let{model:t,feature:n,alt:l,assembly:i,view:s}=e;var u,m;const[v,f]=(0,o.useState)(!1),{height:g}=t,{k1:h,k2:k}=c(n,l),E=(0,o.useRef)(null),N=(0,r.getConf)(t,"color",{feature:n,alt:l}),x=i.getCanonicalRefName(h.refName)||h.refName,b=i.getCanonicalRefName(k.refName)||k.refName,p=h.start,y=k.start,C=null===(u=s.bpToPx({refName:x,coord:p}))||void 0===u?void 0:u.offsetPx,M=null===(m=s.bpToPx({refName:b,coord:y}))||void 0===m?void 0:m.offsetPx;if(void 0!==C&&void 0!==M){const e=(M-C)/2,i=Math.abs(e),r=Math.min(g,i),c=C-s.offsetPx,u=M-s.offsetPx,m=v?"black":N,x=3;return i>1?o.createElement(o.Fragment,null,o.createElement("path",{d:"M ".concat(c," 0 C ").concat(c," ").concat(r,", ").concat(u," ").concat(r,", ").concat(u," 0"),ref:E,stroke:m,strokeWidth:x,onMouseOut:()=>f(!1),onMouseOver:()=>f(!0),onClick:()=>t.selectFeature(n),fill:"none",pointerEvents:"stroke"}),void 0!==h.mateDirection?o.createElement("line",{stroke:m,strokeWidth:x,onMouseOut:()=>f(!1),onMouseOver:()=>f(!0),onClick:()=>t.selectFeature(n),x1:c,x2:c+20*h.mateDirection,y1:1.5,y2:1.5}):null,void 0!==k.mateDirection?o.createElement("line",{stroke:m,strokeWidth:x,onMouseOut:()=>f(!1),onMouseOver:()=>f(!0),onClick:()=>t.selectFeature(n),x1:u,x2:u+20*k.mateDirection,y1:1.5,y2:1.5}):null,v?o.createElement(a.A,{contents:d(n,l)}):null):null}return null})),m=(0,l.observer)((function(e){let{model:t,exportSVG:n,children:l}=e;const{height:r}=t,a=(0,i.getContainingView)(t),s=Math.round(a.dynamicBlocks.totalWidthPx);return n?o.createElement(o.Fragment,null,l):o.createElement("svg",{width:s,height:r},l)})),v=(0,l.observer)((function(e){let{model:t,exportSVG:n}=e;const l=(0,i.getContainingView)(t),r=(0,i.getSession)(t),{assemblyManager:a}=r,{features:s}=t,c=a.get(l.assemblyNames[0]);return c?o.createElement(m,{model:t,exportSVG:n},null===s||void 0===s?void 0:s.map((e=>{var n;const i=e.get("ALT");return null!==(n=null===i||void 0===i?void 0:i.map((n=>o.createElement(u,{key:e.id()+"-"+n,session:r,feature:e,alt:n,view:l,model:t,assembly:c}))))&&void 0!==n?n:o.createElement(u,{key:e.id(),session:r,feature:e,view:l,model:t,assembly:c})}))):null}))},23120:(e,t,n)=>{n.d(t,{renderArcSvg:()=>r});var o=n(65043),l=n(91775),i=n(90800);async function r(e,t){await(0,l.when)((()=>!e.loading));const n=(0,l.getContainingView)(e).dynamicBlocks.totalWidthPx,r=e.height,a="arc-"+e.id;return o.createElement(o.Fragment,null,o.createElement("defs",null,o.createElement("clipPath",{id:a},o.createElement("rect",{x:0,y:0,width:n,height:r}))),o.createElement("g",{clipPath:"url(#".concat(a,")")},o.createElement(i.A,{model:e,exportSVG:!0})))}}}]);
//# sourceMappingURL=3120.a1e51bfd.chunk.js.map