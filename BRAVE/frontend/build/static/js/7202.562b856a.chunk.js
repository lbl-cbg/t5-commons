"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7202],{97202:(e,t,l)=>{l.r(t),l.d(t,{default:()=>m});var a=l(65043),i=l(65204),n=l(42788),o=l(72882),s=l(70276),r=l(91775),c=l(19871);const u=(0,s.makeStyles)()((e=>({textbox:{width:"100%"},paper:{margin:e.spacing(),padding:e.spacing()},submit:{marginTop:25,marginBottom:100,display:"block"}})));function m(e){let{model:t}=e;const{classes:l}=u(),[s,m]=(0,a.useState)(""),[d,p]=(0,a.useState)("MultiWiggle".concat(+Date.now()));return a.createElement(i.A,{className:l.paper},a.createElement("ul",null,a.createElement("li",null,"Enter list of URLs for bigwig files in the textbox"),a.createElement("li",null,"Or, use the button below the text box to select files from your computer")),a.createElement(n.A,{multiline:!0,rows:10,value:s,onChange:e=>m(e.target.value),placeholder:"Paste list of URLs here, or use file selector below",variant:"outlined",className:l.textbox}),a.createElement(o.A,{variant:"outlined",component:"label"},"Choose Files from your computer",a.createElement("input",{type:"file",hidden:!0,multiple:!0,onChange:e=>{let{target:t}=e;const l=[...(null===t||void 0===t?void 0:t.files)||[]].map((e=>({type:"BigWigAdapter",bigWigLocation:r.isElectron?{localPath:e.path,locationType:"LocalPathLocation"}:(0,c.storeBlobLocation)({blob:e}),source:e.name})));m(JSON.stringify(l,null,2))}})),a.createElement(n.A,{value:d,onChange:e=>p(e.target.value),helperText:"Track name"}),a.createElement(o.A,{variant:"contained",className:l.submit,onClick:()=>{var e;const l=(0,r.getSession)(t),a=["".concat(d.toLowerCase().replaceAll(" ","_"),"-").concat(Date.now()),"".concat(l.adminMode?"":"-sessionTrack")].join("");let i;try{i=JSON.parse(s)}catch(o){i=s.split(/\n|\r\n|\r/)}const n="string"===typeof i[0]?{bigWigs:i}:{subadapters:i};(0,r.isSessionWithAddTracks)(l)&&(l.addTrackConf({trackId:a,type:"MultiQuantitativeTrack",name:d,assemblyNames:[t.assembly],adapter:{type:"MultiWiggleAdapter",...n}}),null===(e=t.view)||void 0===e||e.showTrack(a)),t.clearData(),(0,r.isSessionModelWithWidgets)(l)&&l.hideWidget(t)}},"Submit"),a.createElement("p",null,"Additional notes: "),a.createElement("ul",null,a.createElement("li",null,"The list of bigwig files in the text box can be a list of URLs, or a list of elements like"," ",a.createElement("code",null,'[{"type":"BigWigAdapter","bigWigLocation":{"uri":"http://host/file.bw"}, "color":"green","source":"name for subtrack"}]')," ","to apply e.g. the color attribute to the view"),a.createElement("li",null,'Adding local files will update the textbox with JSON contents that are ready to submit with the "Submit" button')))}}}]);
//# sourceMappingURL=7202.562b856a.chunk.js.map