"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[216],{50216:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(65043),l=n(97334),r=n(94496),s=n(97368),c=n(42788),o=n(94814),i=n(99784),m=n(1273),u=n(92064),h=n(72882),d=n(95629),f=n(91775);function E(){return a.createElement("div",null,a.createElement(l.A,{size:20,style:{marginRight:20}}),a.createElement(r.A,{display:"inline"},"Creating SVG"))}function g(e,t){return(0,f.useLocalStorage)("svg-"+e,t)}function v(e){let{model:t,handleClose:n}=e;const l=(0,f.getSession)(t),v="undefined"!==typeof OffscreenCanvas,[p,y]=(0,a.useState)(v),[b,A]=(0,a.useState)(!1),[C,k]=(0,a.useState)(),[S,w]=g("file","jbrowse.svg"),[z,T]=g("theme",l.themeName||"default");return a.createElement(d.Dialog,{open:!0,onClose:n,title:"Export SVG"},a.createElement(s.A,null,C?a.createElement(d.ErrorMessage,{error:C}):b?a.createElement(E,null):null,a.createElement(c.A,{helperText:"filename",value:S,onChange:e=>w(e.target.value)}),a.createElement("br",null),l.allThemes?a.createElement(c.A,{select:!0,label:"Theme",value:z,onChange:e=>T(e.target.value)},Object.entries(l.allThemes()).map((e=>{let[t,n]=e;return a.createElement(o.A,{key:t,value:t},n.name||"(Unknown name)")}))):null,v?a.createElement(i.A,{control:a.createElement(m.A,{checked:p,onChange:()=>y((e=>!e))}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):a.createElement(r.A,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),a.createElement(u.A,null,a.createElement(h.A,{variant:"contained",color:"secondary",onClick:()=>n()},"Cancel"),a.createElement(h.A,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{A(!0),k(void 0);try{await t.exportSvg({rasterizeLayers:p,filename:S,themeName:z}),n()}catch(e){console.error(e),k(e),A(!1)}}},"Submit")))}}}]);
//# sourceMappingURL=216.de398bd8.chunk.js.map